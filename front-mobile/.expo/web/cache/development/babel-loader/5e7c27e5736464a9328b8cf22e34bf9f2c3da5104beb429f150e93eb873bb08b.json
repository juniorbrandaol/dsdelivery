{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport styles from \"./styles\";\nimport { useNavigation } from '@react-navigation/native';\nimport { RectButton } from 'react-native-gesture-handler';\nimport Header from \"../Header\";\nimport OrderCard from \"../OrderCard\";\nimport userService from \"../../apiServices/api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function OrderDatails(_ref) {\n  var route = _ref.route;\n  var navigation = useNavigation();\n  var order = route.params.order;\n  var handleOnCancel = function handleOnCancel() {\n    navigation.navigate('Orders');\n  };\n  var handleConfirmDelivery = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        yield userService.confirmDelivery(order.id).then(function () {\n          Alert.alert(\"Pedido \" + order.id + \" entregue.\");\n          navigation.navigate('Orders');\n        });\n      } catch (error) {\n        Alert.alert(\"Erro ao confirmar entrega do pedido \" + order.id);\n      }\n    });\n    return function handleConfirmDelivery() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleStartNavigation = function handleStartNavigation() {\n    Linking.openURL(\"https://www.google.com/maps/dir/?api=1&travelmode=driving&dir_action=navigate&destination=\" + order.latitude + \",\" + order.longitude);\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(Header, {}), _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(OrderCard, {\n        order: order\n      }), _jsx(RectButton, {\n        style: styles.button,\n        onPress: handleStartNavigation,\n        children: _jsx(Text, {\n          style: styles.buttonText,\n          children: \"INICIAR NAVEGA\\xC7\\xC3O\"\n        })\n      }), _jsx(RectButton, {\n        style: styles.button,\n        onPress: function onPress() {\n          return handleConfirmDelivery();\n        },\n        children: _jsx(Text, {\n          style: styles.buttonText,\n          children: \"CONFIRMAR ENTREGA\"\n        })\n      }), _jsx(RectButton, {\n        style: styles.button,\n        onPress: handleOnCancel,\n        children: _jsx(Text, {\n          style: styles.buttonText,\n          children: \"CANCELAR\"\n        })\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["styles","useNavigation","RectButton","Header","OrderCard","userService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OrderDatails","_ref","route","navigation","order","params","handleOnCancel","navigate","handleConfirmDelivery","_ref2","_asyncToGenerator","confirmDelivery","id","then","Alert","alert","error","apply","arguments","handleStartNavigation","Linking","openURL","latitude","longitude","children","View","style","container","button","onPress","Text","buttonText"],"sources":["C:/junior/projetos/dsdelivery/front-mobile/src/components/OrderDetails/index.tsx"],"sourcesContent":["import {View,Text,Alert,Linking} from 'react-native'\r\nimport styles from \"./styles\";\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport {RectButton} from 'react-native-gesture-handler'\r\nimport Header from '../Header';\r\nimport { Order } from '../../models/Order';\r\nimport OrderCard from '../OrderCard';\r\n//API\r\nimport userService from \"../../apiServices/api\";\r\n\r\ntype Props={\r\n  route:{\r\n    params:{\r\n      order:Order;\r\n    }\r\n  }\r\n}\r\n\r\nexport default function OrderDatails({route}:Props) {\r\n    \r\n  const navigation = useNavigation();\r\n  const {order} = route.params;\r\n\r\n  const  handleOnCancel=()=>{\r\n    navigation.navigate('Orders')\r\n  }\r\n\r\n  const  handleConfirmDelivery=async()=>{\r\n    try{\r\n      await userService.confirmDelivery(order.id).then(()=>{\r\n        Alert.alert(`Pedido ${order.id} entregue.`);   \r\n        navigation.navigate('Orders');\r\n      })\r\n    }\r\n    catch(error){\r\n       Alert.alert(`Erro ao confirmar entrega do pedido ${order.id}`);\r\n    }\r\n  }\r\n\r\n  const handleStartNavigation=()=>{\r\n     Linking.openURL(`https://www.google.com/maps/dir/?api=1&travelmode=driving&dir_action=navigate&destination=${order.latitude},${order.longitude}`)\r\n  }\r\n\r\n  return (\r\n    <>\r\n       <Header/> \r\n        <View style={styles.container}>\r\n          <OrderCard order={order}/>\r\n          <RectButton style={styles.button} onPress={handleStartNavigation}>\r\n             <Text style={styles.buttonText}>INICIAR NAVEGAÇÃO</Text>\r\n          </RectButton>\r\n          <RectButton style={styles.button} onPress={()=>handleConfirmDelivery()}>\r\n             <Text style={styles.buttonText}>CONFIRMAR ENTREGA</Text>\r\n          </RectButton>\r\n          <RectButton style={styles.button} onPress={handleOnCancel}>\r\n             <Text style={styles.buttonText}>CANCELAR</Text>\r\n          </RectButton>\r\n        </View>\r\n     </>\r\n  );\r\n}\r\n\r\n"],"mappings":";;;;;AACA,OAAOA,MAAM;AACb,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAAQC,UAAU,QAAO,8BAA8B;AACvD,OAAOC,MAAM;AAEb,OAAOC,SAAS;AAEhB,OAAOC,WAAW;AAA8B,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAUhD,eAAe,SAASC,YAAYA,CAAAC,IAAA,EAAgB;EAAA,IAAdC,KAAK,GAAAD,IAAA,CAALC,KAAK;EAEzC,IAAMC,UAAU,GAAGd,aAAa,EAAE;EAClC,IAAOe,KAAK,GAAIF,KAAK,CAACG,MAAM,CAArBD,KAAK;EAEZ,IAAOE,cAAc,GAAC,SAAfA,cAAcA,CAAA,EAAK;IACxBH,UAAU,CAACI,QAAQ,CAAC,QAAQ,CAAC;EAC/B,CAAC;EAED,IAAOC,qBAAqB;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAC,aAAS;MACpC,IAAG;QACD,MAAMjB,WAAW,CAACkB,eAAe,CAACP,KAAK,CAACQ,EAAE,CAAC,CAACC,IAAI,CAAC,YAAI;UACnDC,KAAK,CAACC,KAAK,aAAWX,KAAK,CAACQ,EAAE,gBAAa;UAC3CT,UAAU,CAACI,QAAQ,CAAC,QAAQ,CAAC;QAC/B,CAAC,CAAC;MACJ,CAAC,CACD,OAAMS,KAAK,EAAC;QACTF,KAAK,CAACC,KAAK,0CAAwCX,KAAK,CAACQ,EAAE,CAAG;MACjE;IACF,CAAC;IAAA,gBAVMJ,qBAAqBA,CAAA;MAAA,OAAAC,KAAA,CAAAQ,KAAA,OAAAC,SAAA;IAAA;EAAA,GAU3B;EAED,IAAMC,qBAAqB,GAAC,SAAtBA,qBAAqBA,CAAA,EAAK;IAC7BC,OAAO,CAACC,OAAO,gGAA8FjB,KAAK,CAACkB,QAAQ,SAAIlB,KAAK,CAACmB,SAAS,CAAG;EACpJ,CAAC;EAED,OACE1B,KAAA,CAAAE,SAAA;IAAAyB,QAAA,GACG7B,IAAA,CAACJ,MAAM,KAAE,EACRM,KAAA,CAAC4B,IAAI;MAACC,KAAK,EAAEtC,MAAM,CAACuC,SAAU;MAAAH,QAAA,GAC5B7B,IAAA,CAACH,SAAS;QAACY,KAAK,EAAEA;MAAM,EAAE,EAC1BT,IAAA,CAACL,UAAU;QAACoC,KAAK,EAAEtC,MAAM,CAACwC,MAAO;QAACC,OAAO,EAAEV,qBAAsB;QAAAK,QAAA,EAC9D7B,IAAA,CAACmC,IAAI;UAACJ,KAAK,EAAEtC,MAAM,CAAC2C,UAAW;UAAAP,QAAA,EAAC;QAAiB;MAAO,EAC9C,EACb7B,IAAA,CAACL,UAAU;QAACoC,KAAK,EAAEtC,MAAM,CAACwC,MAAO;QAACC,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAIrB,qBAAqB,EAAE;QAAA,CAAC;QAAAgB,QAAA,EACpE7B,IAAA,CAACmC,IAAI;UAACJ,KAAK,EAAEtC,MAAM,CAAC2C,UAAW;UAAAP,QAAA,EAAC;QAAiB;MAAO,EAC9C,EACb7B,IAAA,CAACL,UAAU;QAACoC,KAAK,EAAEtC,MAAM,CAACwC,MAAO;QAACC,OAAO,EAAEvB,cAAe;QAAAkB,QAAA,EACvD7B,IAAA,CAACmC,IAAI;UAACJ,KAAK,EAAEtC,MAAM,CAAC2C,UAAW;UAAAP,QAAA,EAAC;QAAQ;MAAO,EACrC;IAAA,EACR;EAAA,EACP;AAER"},"metadata":{},"sourceType":"module","externalDependencies":[]}