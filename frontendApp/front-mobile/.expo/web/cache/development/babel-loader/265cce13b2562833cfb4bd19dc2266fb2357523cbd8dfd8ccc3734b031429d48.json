{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { RectButton } from 'react-native-gesture-handler';\nimport styles from \"./styles\";\nimport { useNavigation } from '@react-navigation/native';\nimport userService from \"../../Services/apiServices/api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function Home() {\n  var navigation = useNavigation();\n  var handleOnPress = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var data = yield userService.userIsAuthenticated();\n        alert(data.data);\n        checkIsUserHasVehicle();\n      } catch (error) {\n        navigation.navigate('Login');\n      }\n    });\n    return function handleOnPress() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var checkIsUserHasVehicle = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var userId = yield userService.authenticatedUser();\n      try {\n        yield userService.fetchVehicleByuserId(userId.data.id);\n        navigation.navigate('Orders');\n      } catch (error) {\n        navigation.navigate('RegisterVehicle');\n      }\n    });\n    return function checkIsUserHasVehicle() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(_Fragment, {\n    children: [_jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Image, {\n        source: require(\"../../assets/deliveryman.png\")\n      }), _jsxs(Text, {\n        style: styles.title,\n        children: [\"Acompanhe os pedidos e \", '\\n', \"entregue no prazo!\"]\n      }), _jsxs(Text, {\n        style: styles.subTitle,\n        children: [\"Receba todos os pedidos do seu\", '\\n', \" restaurante na palma da sua m\\xE3o\"]\n      })]\n    }), _jsx(View, {\n      style: styles.footer,\n      children: _jsx(RectButton, {\n        style: styles.button,\n        onPress: handleOnPress,\n        children: _jsx(Text, {\n          style: styles.buttonText,\n          children: \"VER PEDIDOS\"\n        })\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","View","Text","Image","RectButton","styles","useNavigation","userService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","navigation","handleOnPress","_ref","_asyncToGenerator","data","userIsAuthenticated","alert","checkIsUserHasVehicle","error","navigate","apply","arguments","_ref2","userId","authenticatedUser","fetchVehicleByuserId","id","children","style","container","source","require","title","subTitle","footer","button","onPress","buttonText"],"sources":["C:/junior/projetos/dsdelivery/front-mobile/src/components/Home/index.tsx"],"sourcesContent":["import React,{useEffect,useCallback,useState} from 'react'\r\nimport {View,Text,Image} from 'react-native'\r\nimport { RectButton} from 'react-native-gesture-handler'\r\nimport styles from \"./styles\";\r\nimport { useNavigation } from '@react-navigation/native';\r\n//API\r\nimport userService from '../../Services/apiServices/api';\r\n\r\n\r\nexport default function Home() {\r\n\r\n  const navigation = useNavigation()\r\n\r\n  const handleOnPress=async()=>{\r\n    try{ \r\n       const data= await userService.userIsAuthenticated();\r\n       alert(data.data)\r\n       checkIsUserHasVehicle()\r\n    }catch(error){ \r\n       navigation.navigate('Login')\r\n    }\r\n  }\r\n\r\n  const checkIsUserHasVehicle=async()=>{\r\n    const userId = await userService.authenticatedUser();\r\n    try{  \r\n      await userService.fetchVehicleByuserId(userId.data.id);\r\n      navigation.navigate('Orders') \r\n    }\r\n    catch(error: any)  {\r\n      navigation.navigate('RegisterVehicle')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n        <View style={styles.container} >\r\n          <Image source={require('../../assets/deliveryman.png')}/>\r\n          <Text style={styles.title}>Acompanhe os pedidos e {'\\n'}entregue no prazo!</Text>\r\n          <Text style={styles.subTitle}>Receba todos os pedidos do seu{'\\n'} restaurante na palma da sua m√£o</Text>\r\n        </View>\r\n        <View style={styles.footer}>\r\n           <RectButton \r\n             style={styles.button}\r\n             onPress={handleOnPress}\r\n           >\r\n             <Text style={styles.buttonText}>VER PEDIDOS</Text>\r\n           </RectButton>\r\n        </View>\r\n    </>\r\n  );\r\n}\r\n\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAuC,OAAO;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAE1D,SAASC,UAAU,QAAO,8BAA8B;AACxD,OAAOC,MAAM;AACb,SAASC,aAAa,QAAQ,0BAA0B;AAExD,OAAOC,WAAW;AAAuC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAGzD,eAAe,SAASC,IAAIA,CAAA,EAAG;EAE7B,IAAMC,UAAU,GAAGT,aAAa,EAAE;EAElC,IAAMU,aAAa;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAC,aAAS;MAC3B,IAAG;QACA,IAAMC,IAAI,SAAQZ,WAAW,CAACa,mBAAmB,EAAE;QACnDC,KAAK,CAACF,IAAI,CAACA,IAAI,CAAC;QAChBG,qBAAqB,EAAE;MAC1B,CAAC,QAAMC,KAAK,EAAC;QACVR,UAAU,CAACS,QAAQ,CAAC,OAAO,CAAC;MAC/B;IACF,CAAC;IAAA,gBARKR,aAAaA,CAAA;MAAA,OAAAC,IAAA,CAAAQ,KAAA,OAAAC,SAAA;IAAA;EAAA,GAQlB;EAED,IAAMJ,qBAAqB;IAAA,IAAAK,KAAA,GAAAT,iBAAA,CAAC,aAAS;MACnC,IAAMU,MAAM,SAASrB,WAAW,CAACsB,iBAAiB,EAAE;MACpD,IAAG;QACD,MAAMtB,WAAW,CAACuB,oBAAoB,CAACF,MAAM,CAACT,IAAI,CAACY,EAAE,CAAC;QACtDhB,UAAU,CAACS,QAAQ,CAAC,QAAQ,CAAC;MAC/B,CAAC,CACD,OAAMD,KAAU,EAAG;QACjBR,UAAU,CAACS,QAAQ,CAAC,iBAAiB,CAAC;MACxC;IACF,CAAC;IAAA,gBATKF,qBAAqBA,CAAA;MAAA,OAAAK,KAAA,CAAAF,KAAA,OAAAC,SAAA;IAAA;EAAA,GAS1B;EAED,OACEf,KAAA,CAAAE,SAAA;IAAAmB,QAAA,GACIrB,KAAA,CAACV,IAAI;MAACgC,KAAK,EAAE5B,MAAM,CAAC6B,SAAU;MAAAF,QAAA,GAC5BvB,IAAA,CAACN,KAAK;QAACgC,MAAM,EAAEC,OAAO;MAAiC,EAAE,EACzDzB,KAAA,CAACT,IAAI;QAAC+B,KAAK,EAAE5B,MAAM,CAACgC,KAAM;QAAAL,QAAA,GAAC,yBAAuB,EAAC,IAAI,EAAC,oBAAkB;MAAA,EAAO,EACjFrB,KAAA,CAACT,IAAI;QAAC+B,KAAK,EAAE5B,MAAM,CAACiC,QAAS;QAAAN,QAAA,GAAC,gCAA8B,EAAC,IAAI,EAAC,qCAAgC;MAAA,EAAO;IAAA,EACpG,EACPvB,IAAA,CAACR,IAAI;MAACgC,KAAK,EAAE5B,MAAM,CAACkC,MAAO;MAAAP,QAAA,EACxBvB,IAAA,CAACL,UAAU;QACT6B,KAAK,EAAE5B,MAAM,CAACmC,MAAO;QACrBC,OAAO,EAAEzB,aAAc;QAAAgB,QAAA,EAEvBvB,IAAA,CAACP,IAAI;UAAC+B,KAAK,EAAE5B,MAAM,CAACqC,UAAW;UAAAV,QAAA,EAAC;QAAW;MAAO;IACvC,EACT;EAAA,EACR;AAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}